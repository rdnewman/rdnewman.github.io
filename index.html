<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Notes : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Notes</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/rdnewman">View on GitHub</a>

          <h1 id="project_title">Notes</h1>
          <h2 id="project_tagline"></h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a id="how-to-use-reactjs-to-handle-flash-messages-in-a-ruby-on-rails-40-project" class="anchor" href="#how-to-use-reactjs-to-handle-flash-messages-in-a-ruby-on-rails-40-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use ReactJS to handle flash messages in a Ruby on Rails 4.0 project</h2>

<h3>
<a id="basics" class="anchor" href="#basics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basics</h3>

<p>Normally, Ruby flash messages are rendered server-side with perhaps a basic snippet of code in a layout view.  Something like this HAML could be be used in basic Rails 4.0 layout (using Bootstrap):</p>

<p><em>(app/views/layouts/application.html.haml)</em></p>

<pre><code>!!!
%html
  %head
    %title
      Demo

    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' =&gt; true
    = javascript_include_tag 'application', 'data-turbolinks-track' =&gt; true
    = csrf_meta_tags

  %body
    %div.container
      %div#flash_messages
        - flash.each do |level, message|
          %div{class: "#{flash_class(level)}"}&lt;
            = message

      = yield
</code></pre>

<p>The reference to <code>flash_class</code> is just a helper for applying bootstrap styles.</p>

<p><em>(app/helpers/application_helper.rb)</em></p>

<pre><code>module ApplicationHelper
  # flash message typing for Bootstrap display
  def flash_class(level)
    case level
    when 'notice'
      'alert alert-info'
    when 'success'
      'alert alert-success'
    when 'error', 'alert'
      'alert alert-error'
    else
      'alert alert-error'
    end
  end
end
</code></pre>

<p>And this all works as fine as it goes.  Flash messages will be displayed on every page render.</p>

<h3>
<a id="reactjs" class="anchor" href="#reactjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>ReactJS</h3>

<p>However, if you're writing a <a href="http://facebook.github.io/react/index.html">React</a> project, you're likely using a fair amount of AJAX to take advantage of what React can do for you.   These notes don't discuss tying React into a Rails project -- there are several places to read about that -- instead, these notes assume you're using <a href="https://github.com/reactjs/react-rails">react-rails</a> to have your project automatically process React's JSX files in the asset pipeline.</p>

<p>There are several answers on Stack Overflow about scripting for flash messaging in general Javascript; we can adapt this approach to take advantage of React.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
