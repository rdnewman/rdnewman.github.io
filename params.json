{"name":"Notes","tagline":"","body":"## How to use ReactJS to handle flash messages in a Ruby on Rails 4.0 project ##\r\n\r\n### Basics ###\r\nNormally, Ruby flash messages are rendered server-side with perhaps a basic snippet of code in a layout view.  Something like this HAML could be be used in basic Rails 4.0 layout (using Bootstrap):\r\n\r\n_(app/views/layouts/application.html.haml)_\r\n```\r\n!!!\r\n%html\r\n  %head\r\n    %title\r\n      Demo\r\n\r\n    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true\r\n    = javascript_include_tag 'application', 'data-turbolinks-track' => true\r\n    = csrf_meta_tags\r\n\r\n  %body\r\n    %div.container\r\n      %div#flash_messages\r\n        - flash.each do |level, message|\r\n          %div{class: \"#{flash_class(level)}\"}<\r\n            = message\r\n\r\n      = yield\r\n```\r\n\r\nThe reference to `flash_class` is just a helper for applying bootstrap styles.\r\n\r\n_(app/helpers/application_helper.rb)_\r\n```\r\nmodule ApplicationHelper\r\n  # flash message typing for Bootstrap display\r\n  def flash_class(level)\r\n    case level\r\n    when 'notice'\r\n      'alert alert-info'\r\n    when 'success'\r\n      'alert alert-success'\r\n    when 'error', 'alert'\r\n      'alert alert-error'\r\n    else\r\n      'alert alert-error'\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nAnd this all works as fine as it goes.  Flash messages will be displayed on every page render.\r\n\r\n### ReactJS ###\r\nHowever, if you're writing a [React](http://facebook.github.io/react/index.html) project, you're likely using a fair amount of AJAX to take advantage of what React can do for you.   These notes don't discuss tying React into a Rails project -- there are several places to read about that -- instead, these notes assume you're using [react-rails](https://github.com/reactjs/react-rails) to have your project automatically process React's JSX files in the asset pipeline.\r\n\r\nThere are several answers on Stack Overflow about scripting for flash messaging in general Javascript; we can adapt this approach to take advantage of React.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}